# BotProtector — модуль для Bitrix

Модуль блокировки нежелательных ботов до загрузки страницы (возврат **403 Forbidden**).  
Сохраняет данные о заблокированных визитах в журнал и предоставляет интерфейс в административной части для управления ими.  

---

## Функционал

- Автоматическая блокировка нежелательных ботов на уровне `OnProlog` (страница даже не рендерится);
- Логирование каждого срабатывания;
- Управление параметрами блокировки из административной части сайта (формирование черного и белого списка ботов, интервал блокировки, паттерн блокировки);


---

## Установка

### Вариант 1. Через Git

```bash
cd /path/to/site/local/modules/
git clone https://github.com/sobenkov/tr.botprotector.git tr.botprotector
```
Установите модуль в админке:
Marketplace → Установленные решения → Установить

### Вариант 2. Ручная установка

Скачайте архив репозитория (Download ZIP).
Распакуйте его в:
/local/modules/tr.botprotector/

Установите модуль в админке:
Marketplace → Установленные решения → Установить

## Использование

После установки появится пункт меню:
Сервисы → BotProtector

В настройках необходимо включить модуль.

### Также в настройках можно:
- определить белый и черный список IP модулей;
- настроить список user-agent, по которым будет идти блокировка;
- определить, через какое кол-во запросов в определенный промежуток времени будет блокироваться бот, а также на какой период времени;
### Во вкладке "Заблокированные боты" 
 - Можно увидеть подробности блокируемых ботов, а также возможность исключить его из списка, если блокировка была совершена ошибочно.

## Модуль продолжает поддерживаться
### Планируемый функционал
 - настраиваемые правила блокировки (через админку);
 - экспорт/импорт чёрного/белого списка;

Вопросы и предложения просьба отправлять на почту trbotprotector@gmail.com. Помощь по установке и индивидуальным доработкам предоставляется только на платной основе. Поддержать разработку вы можете тут: https://boosty.to/sobenkov/single-payment/donation/738446/target?share=target_link
